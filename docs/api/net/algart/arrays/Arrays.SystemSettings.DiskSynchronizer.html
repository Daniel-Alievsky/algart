<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML lang="en">
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
Arrays.SystemSettings.DiskSynchronizer
</TITLE>


<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Arrays.SystemSettings.DiskSynchronizer";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><STRONG>Overview</STRONG></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><STRONG>Package</STRONG></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><STRONG>Class</STRONG></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><STRONG>Tree</STRONG></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><STRONG>Deprecated</STRONG></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><STRONG>Index</STRONG></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><STRONG>Help</STRONG></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>

<!--algartHeader-->
<div align="center" style="margin:0 0 8px 0">
<noindex>
<script type="text/javascript">
  // Google Analytics

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-8233371-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!--Openstat-->
<span id="openstat877799"></span>
<script type="text/javascript">
var openstat = { counter: 877799, next: openstat };
(function(d, t, p) {
var j = d.createElement(t); j.async = true; j.type = "text/javascript";
j.src = ("https:" == p ? "https:" : "http:") + "//openstat.net/cnt.js";
var s = d.getElementsByTagName(t)[0]; s.parentNode.insertBefore(j, s);
})(document, "script", document.location.protocol);
</script>
<!--/Openstat-->
</noindex>

<!--#include virtual="/ad_top_utf8.php"-->
</div>
<div style="margin:0"><noindex><a target="_top" href="http://algart.net/"><i>AlgART Home</i></a></noindex></div>
<!--/algartHeader-->
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../net/algart/arrays/Arrays.SystemSettings.html" title="class in net.algart.arrays"><STRONG>PREV CLASS</STRONG></A>&nbsp;
&nbsp;<A HREF="../../../net/algart/arrays/Arrays.TaskExecutionOrder.html" title="enum in net.algart.arrays"><STRONG>NEXT CLASS</STRONG></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?net/algart/arrays/Arrays.SystemSettings.DiskSynchronizer.html" target="_top"><STRONG>FRAMES</STRONG></A>  &nbsp;
&nbsp;<A HREF="Arrays.SystemSettings.DiskSynchronizer.html" target="_top"><STRONG>NO FRAMES</STRONG></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><STRONG>All Classes</STRONG></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><STRONG>All Classes</STRONG></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
net.algart.arrays</FONT>
<BR>
Interface Arrays.SystemSettings.DiskSynchronizer</H2>
<DL>
<DT><STRONG>Enclosing class:</STRONG></DT><DD><A HREF="../../../net/algart/arrays/Arrays.SystemSettings.html" title="class in net.algart.arrays">Arrays.SystemSettings</A></DD>
</DL>
<HR>
<PRE>public static interface <STRONG>Arrays.SystemSettings.DiskSynchronizer</STRONG></PRE>

<P>
<p>Global synchronizer, used for all disk operations, performed by this package.
 More precisely, the implementation of interface, returned by
 <A HREF="../../../net/algart/arrays/Arrays.SystemSettings.html#globalDiskSynchronizer()"><CODE>Arrays.SystemSettings.globalDiskSynchronizer()</CODE></A> method, is used for all operations with
 disk files, performed by <A HREF="../../../net/algart/arrays/DefaultDataFileModel.html" title="class in net.algart.arrays"><CODE>DefaultDataFileModel</CODE></A> and <A HREF="../../../net/algart/arrays/StandardIODataFileModel.html" title="class in net.algart.arrays"><CODE>StandardIODataFileModel</CODE></A>.</p>

 <p>Access to AlgART arrays, created via <A HREF="../../../net/algart/arrays/LargeMemoryModel.html" title="class in net.algart.arrays"><CODE>LargeMemoryModel</CODE></A>, can require loading or saving
 some portion of data at an external device, according to the used <A HREF="../../../net/algart/arrays/DataFileModel.html" title="interface in net.algart.arrays"><CODE>DataFileModel</CODE></A>.
 However, access to AlgART arrays can be performed from several threads:
 for example, each window of your application can use own thread for calculations.
 If the device for storing data is a usual disk, then simultaneous multithreading access to it
 can lead to extreme slowing down all calculations: unlike RAM, most of disk devices
 do not provide quick parallel I/O operation with different files or portions of a file.</p>

 <p>To solve this problem, this library performs any action, connected with disk I/O operations &mdash;
 reading or writing file regions, mapping, preloading or flushing mapped buffers
 (<tt>MappedByteBuffer.load/force</tt> methods) &mdash; not directly, but via calling
 <A HREF="../../../net/algart/arrays/Arrays.SystemSettings.DiskSynchronizer.html#doSynchronously(java.lang.String, java.util.concurrent.Callable)"><CODE>doSynchronously(String, Callable)</CODE></A> method of the global implementation
 of this interface, returned by <A HREF="../../../net/algart/arrays/Arrays.SystemSettings.html#globalDiskSynchronizer()"><CODE>Arrays.SystemSettings.globalDiskSynchronizer()</CODE></A> method.
 For example, <A HREF="../../../net/algart/arrays/DefaultDataFileModel.html" title="class in net.algart.arrays"><CODE>DefaultDataFileModel</CODE></A> class performs disk mapping in the following manner:</p>

 <pre>
 MappedByteBuffer buffer = <A HREF="../../../net/algart/arrays/Arrays.SystemSettings.html#globalDiskSynchronizer()"><CODE>Arrays.SystemSettings.globalDiskSynchronizer()</CODE></A>.<A HREF="../../../net/algart/arrays/Arrays.SystemSettings.DiskSynchronizer.html#doSynchronously(java.lang.String, java.util.concurrent.Callable)"><CODE>doSynchronously</CODE></A>(
 &#32;   fileName,
 &#32;   new Callable<MappedByteBuffer>() {
 &#32;       public MappedByteBuffer call() throws IOException {
 &#32;           return fileChannel.map(mode, position, size);
 &#32;       }
 &#32;   });
 </pre>

 <p>You can use (and usually should use) the analogous "wrapping" of your own disk operations.</p>

 <p>By default, the implementation of
 <A HREF="../../../net/algart/arrays/Arrays.SystemSettings.DiskSynchronizer.html#doSynchronously(java.lang.String, java.util.concurrent.Callable)"><CODE>doSynchronously(String fileName, Callable action)</CODE></A> method
 performs the desired action with global synchronization, alike in the following code:</p>

 <pre>
 synchronized (globalLock) { // some private static field
 &#32;   return action.call();
 }
 </pre>

 <p>It means that all disk operations, which are performed via this disk synchronizer,
 will be performed sequentially always. It is a good solution for most of disk devices.</p>

 <p>However, some disk controllers provide quick parallel disk operation, usually with different disks.
 If your application should be optimized for such systems, you may provide your own custom
 implementation of this interface and specify it via "net.algart.arrays.globalDiskSynchronizer"
 system property (see <A HREF="../../../net/algart/arrays/Arrays.SystemSettings.html#globalDiskSynchronizer()"><CODE>globalDiskSynchronizer()</CODE></A>).
 Your implementation, for example, can analyse the file name, detect the physical device,
 corresponding to this file, and allow simultaneous operation at different devices.</p>

 <p>It is obvious that any implementation of this interface is <b>thread-safe</b>.</p>
<P>

<P>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="Method Summary table, listing methods, and an explanation">
<CAPTION CLASS="TableCaption">
Method Summary</CAPTION>
<TR>
<TH CLASS="TableHeader" SCOPE="col" NOWRAP>Modifier and Type</TH>
<TH CLASS="TableHeader" SCOPE="col" NOWRAP>Method and Description</TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;T&gt; T</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><STRONG><A HREF="../../../net/algart/arrays/Arrays.SystemSettings.DiskSynchronizer.html#doSynchronously(java.lang.String, java.util.concurrent.Callable)">doSynchronously</A></STRONG>(java.lang.String&nbsp;fileName,
                java.util.concurrent.Callable&lt;T&gt;&nbsp;action)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Performs the specified action synchronously.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<STRONG>Method Detail</STRONG></FONT></TH>
</TR>
</TABLE>

<A NAME="doSynchronously(java.lang.String, java.util.concurrent.Callable)"><!-- --></A><H3>
doSynchronously</H3>
<PRE>
&lt;T&gt; T <STRONG>doSynchronously</STRONG>(java.lang.String&nbsp;fileName,
                      java.util.concurrent.Callable&lt;T&gt;&nbsp;action)
                  throws java.lang.Exception</PRE>
<DL>
<DD>Performs the specified action synchronously.
 Depending on implementation, it is probably performed with some form of global synchronization.

 <p>The specified action is supposed to be I/O operation with a file,
 the absolute path to which is passed via <tt>fileName</tt> argument.
 This name can help to control synchronization depending on the physical disk
 where the file is located: for example, this method can allow simultaneous reading 2 files,
 if they are placed on disks C: and D: (controlled by different disk controllers),
 but can disable simultaneous reading files from the same disk.

 <p>The default implementation does not use this argument.
<P>
</DD>
<DD><DL>
<DT><STRONG>Parameters:</STRONG></DT><DD><CODE>fileName</CODE> - the symbolic name of file, probably its canonical path.</DD><DD><CODE>action</CODE> - some I/O operations that should be synchronously performed with this file.</DD>
<DT><STRONG>Returns:</STRONG></DT><DD>result of the operation.</DD>
<DT><STRONG>Throws:</STRONG></DT>
<DD><CODE>java.lang.Exception</CODE> - if unable to compute a result.</DD></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><STRONG>Overview</STRONG></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><STRONG>Package</STRONG></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><STRONG>Class</STRONG></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><STRONG>Tree</STRONG></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><STRONG>Deprecated</STRONG></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><STRONG>Index</STRONG></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><STRONG>Help</STRONG></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>

<!--(removed by JavaDocCorrector)-->
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../net/algart/arrays/Arrays.SystemSettings.html" title="class in net.algart.arrays"><STRONG>PREV CLASS</STRONG></A>&nbsp;
&nbsp;<A HREF="../../../net/algart/arrays/Arrays.TaskExecutionOrder.html" title="enum in net.algart.arrays"><STRONG>NEXT CLASS</STRONG></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?net/algart/arrays/Arrays.SystemSettings.DiskSynchronizer.html" target="_top"><STRONG>FRAMES</STRONG></A>  &nbsp;
&nbsp;<A HREF="Arrays.SystemSettings.DiskSynchronizer.html" target="_top"><STRONG>NO FRAMES</STRONG></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><STRONG>All Classes</STRONG></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><STRONG>All Classes</STRONG></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

<!--algartBottom-->
<div align="center" style="margin-top:32px;margin-bottom:8px">
<!--#include virtual="/ad_bottom_utf8.php"-->
</div>
<!--/algartBottom-->

</BODY>
</HTML>
